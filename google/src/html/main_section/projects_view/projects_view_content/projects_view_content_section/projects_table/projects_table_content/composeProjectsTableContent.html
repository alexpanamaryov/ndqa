<script type="text/javascript"> /*onload="composeProjectsTableContent()" composeProjectsTableContent()*/


    var composeProjectsTableContent = function() {

        var projects_tr = $("<tr class='project'></tr>").append("SOME TEST TEXT");

        console.log(projects_tr);

        if($(".projects-tbody").length) {

            console.log($(".projects-tbody"));
            $(".projects-tbody").append(projects_tr);

            var projects = <?!= getProjectsFromSheet(); ?>

            console.log("Projects number: " + projects.length);

            for(var i = 1; i < 100; i++) {

                console.log('Adding: ' + projects[i][3]);

            }

        }

        /*if(projects_table) {

            console.log("Loading data for: "+ projects_table[0]);

            var projects = google.script.run.getProjectsFromSheet();

            console.log('Projects number: ' + projects.length);

            var projects_tbody = document.getElementsByClassName('projects_tbody');

            var project = '';

            for(var i = 0; i < projects.length; i++) {

                console.log('Adding: ' + projects[i][3]);

                project = document.createElement('tr');

                project.innerText = projects[i][3];

                projects_tbody[0].appendChild(project);
            }
        } else {
            console.log("There is no projects table loaded.");
        }*/
    };

    $(document).ready(composeProjectsTableContent);

</script>