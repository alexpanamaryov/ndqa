<script type="text/javascript"> /*onload="composeProjectsTableContent()" composeProjectsTableContent()*/

    var appendProjects = function(projects) {

//        var $table = $(".projects-tbody");
//
//        var tableString = '';
//        var trTemplate = '<tr class="{class}">{tr}</tr>';
//        var tdTemplate = '<td class="{class}"></td>';
//
//        function generateTpl (tpl, data) {
//
//        };
//
//        projects.forEach(function (row) {
//            var id = row[0];
//            var key = row[2];
//            var name = row[3];
//
//            var tdList = '';
//            var tdName = tdTemplate.re
//
//
////            row.forEach()
//
//        });

        console.log("Projects number: " + projects.length);

        for(var i = 1; i < projects.length; i++) {

            var project_tr = $('<tr class="project" id=' + '"' + projects[i][0] + '"' +  '></tr>');

            var project_name_td = '<td class="project_name">' +
                    '<a href="#' + '">' + projects[i][3] + '</a>' + '</td>';

            var project_key_td = '<td class="project_key">' + projects[i][2] + '</td>';

            project_tr.append($(project_name_td)).append($(project_key_td));

            $(".projects-tbody").append( project_tr );
        }
    };

    var composeProjectsTableContent = function() {

        if($(".projects-tbody").length) {

            google.script.run.withSuccessHandler(appendProjects).getProjectsFromSheet();

        }
    };

   /* $(document).ready(composeProjectsTableContent); */

</script>